/*!
 * Steve's blog v1.2.8 | Â© 2019 Steve Hoang | MIT Licensed | https://stevehoang.com
 */
!function(){"use strict";const e=".code-header>button",t="timeout",s=2e3;function i(e){return e.hasAttribute(t)&&Number(e.getAttribute(t))>Date.now()}function n(e){e.setAttribute(t,Date.now()+s)}function o(e){e.removeAttribute(t)}const r="data-src",c="data-lqip",l="shimmer",a="blur";function d(e){this.parentElement.classList.remove(e)}function h(){this.complete&&(this.hasAttribute(c)?d.call(this,a):d.call(this,l))}function u(){const e=this.getAttribute(r);this.setAttribute("src",encodeURI(e)),this.removeAttribute(r)}const m=".popup:not(.dark)",p=".popup:not(.light)";let g=m;function f(e,t,s){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:s;throw new TypeError("Private element is not present on this object")}function b(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var v;class E{static get elements(){return f(E,this,C)._||(C._=f(E,this,{tocBar:document.getElementById("toc-bar"),soloTrigger:document.getElementById("toc-solo-trigger"),triggers:Array.from(document.getElementsByClassName("toc-trigger")),popup:document.getElementById("toc-popup"),btnClose:document.getElementById("toc-popup-close")})),f(E,this,C)._}static initBar(){const{tocBar:e,soloTrigger:t}=this.elements;if(!e||!t)return;new IntersectionObserver((t=>{t[0].isIntersecting?e.classList.add("invisible"):e.classList.remove("invisible")}),{rootMargin:`-${f(E,this,S)._}px 0px 0px 0px`}).observe(t),k._=f(E,this,!1)}static refresh(){f(E,this,k)._&&this.initComponents(),tocbot.refresh(this.options),f(E,this,L).call(this)}static get popupOpened(){return this.elements.popup?.open||!1}static showPopup(){const{popup:e}=this.elements;e&&(this.lockScroll(!0),e.showModal(),requestAnimationFrame((()=>{const t=e.querySelector("li.is-active-li");t&&t.scrollIntoView({block:"center",behavior:"smooth"})})))}static hidePopup(){const{popup:e}=this.elements;if(!e||!e.open)return;const t="closing";e.setAttribute(t,""),e.addEventListener("animationend",(()=>{e.removeAttribute(t),e.close()}),{once:!0}),this.lockScroll(!1)}static lockScroll(e){const t="overflow-hidden";requestAnimationFrame((()=>{document.documentElement.classList.toggle(t,e),document.body.classList.toggle(t,e)}))}static clickBackdrop(e){const{popup:t}=this.elements;if(!t||t.hasAttribute("closing"))return;const s=t.getBoundingClientRect();(e.clientX<s.left||e.clientX>s.right||e.clientY<s.top||e.clientY>s.bottom)&&this.hidePopup()}static initComponents(){if(f(E,this,T)._)return;this.initBar();const{triggers:e,popup:t,btnClose:s}=this.elements,i=this.showPopup.bind(this),n=this.hidePopup.bind(this),o=this.clickBackdrop.bind(this);e.forEach((e=>{e.addEventListener("click",i)})),t&&(t.addEventListener("click",o),t.addEventListener("cancel",(e=>{e.preventDefault(),this.hidePopup()}))),s&&s.addEventListener("click",n),T._=f(E,this,!0)}static init(){tocbot.init(this.options),f(E,this,L).call(this),this.initComponents(),f(E,this,y).call(this)}}function L(){document.querySelectorAll("#toc-popup-content .toc-link").forEach((e=>{const t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",(e=>{e.preventDefault();const s=t.getAttribute("href").substring(1),i=document.getElementById(s);if(i){const e=f(v,this,S)._,t=i.offsetTop-e;this.hidePopup(),setTimeout((()=>{window.scrollTo({top:t,behavior:"smooth"}),setTimeout((()=>{history.pushState(null,null,`#${s}`)}),100)}),150)}}))}))}function y(){window.addEventListener("scroll",(()=>{f(v,this,A)._||(requestAnimationFrame((()=>{A._=f(v,this,!1)})),A._=f(v,this,!0))}),{passive:!0})}var w,k={_:!0},S={_:48},T={_:!1},C={_:null},A={_:!1};b(E,"options",{tocSelector:"#toc-popup-content",contentSelector:".content",ignoreSelector:"[data-toc-skip]",headingSelector:"h2, h3, h4",orderedList:!1,scrollSmooth:!1,collapseDepth:4,headingsOffset:f(v=E,v,S)._});class B{static refresh(){f(B,this,_)._?(tocbot.refresh(this.options),f(B,this,I).call(this)):this.init()}static init(){tocbot.init(this.options),_._=f(B,this,!0),f(B,this,I).call(this),f(B,this,x).call(this)}}function I(){document.querySelectorAll("#toc .toc-link").forEach((e=>{const t=e.cloneNode(!0);e.parentNode.replaceChild(t,e),t.addEventListener("click",(e=>{e.preventDefault();const s=t.getAttribute("href").substring(1),i=document.getElementById(s);if(i){const e=32,t=i.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"}),setTimeout((()=>{history.pushState(null,null,`#${s}`)}),100)}}))}))}function x(){window.addEventListener("scroll",(()=>{f(w,this,P)._||(requestAnimationFrame((()=>{P._=f(w,this,!1)})),P._=f(w,this,!0))}),{passive:!0})}w=B,b(B,"options",{tocSelector:"#toc",contentSelector:".content",ignoreSelector:"[data-toc-skip]",headingSelector:"h2, h3, h4",orderedList:!1,scrollSmooth:!1,headingsOffset:32});var _={_:!1},P={_:!1};const q=matchMedia("(min-width: 1200px)");function M(e){e.matches?(E.popupOpened&&E.hidePopup(),B.refresh()):E.refresh()}const N="mermaid",D=Theme.getThemeMapper("default","dark");function V(e){if(e.source===window&&e.data&&e.data.id===Theme.ID){const e=[...document.getElementsByClassName(N)],t=D[Theme.visualState];for(let t=0;t<e.length;t++){const s=e[t],i=s.previousSibling.children[0].textContent;s.textContent=i,s.removeAttribute("data-processed")}mermaid.initialize({theme:t}),mermaid.init(null,`.${N}`)}}function H(e){const t=e.textContent,s=e.parentElement;s.classList.add("d-none");const i=document.createElement("pre");i.classList.add(N),i.textContent=t,s.after(i)}const O=document.getElementById("mode-toggle");class j{constructor(){b(this,"updateProgress",(()=>{const{percentage:e,fraction:t,isVisible:s}=this.calculateScrollProgress();this.state.progress=e,this.state.isVisible=s,this.updateUI(t,e),this.rafId=null})),b(this,"handleScroll",(()=>{this.rafId||(this.rafId=requestAnimationFrame(this.updateProgress))})),this.state={progress:0,isVisible:!1,lastScrollTop:0},this.config={perimeter:160,visibilityThreshold:50,fadeDelay:500},this.rafId=null,this.fadeTimeout=null,this.elements={btn:document.getElementById("back-to-top"),progressPath:null,progressText:null,icon:null},this.elements.btn&&this.init()}init(){this.createElements(),this.bindEvents(),this.updateProgress()}createElements(){const e=`\n      <svg id="progress-circle" width="44" height="44" viewBox="0 0 44 44">\n        <path d="M 2 2 H 42 V 42 H 2 Z" \n              fill="none" \n              stroke="var(--text-color)" \n              stroke-width="1" \n              stroke-dasharray="${this.config.perimeter}" \n              stroke-dashoffset="${this.config.perimeter}">\n        </path>\n      </svg>\n      <div id="scroll-percentage" class="scroll-percentage">0</div>\n    `;this.elements.btn.insertAdjacentHTML("beforeend",e),this.elements.progressPath=this.elements.btn.querySelector("path"),this.elements.progressText=this.elements.btn.querySelector("#scroll-percentage"),this.elements.icon=this.elements.btn.querySelector("i")}calculateScrollProgress(){const{scrollY:e,innerHeight:t}=window,{scrollHeight:s}=document.documentElement,i=s-t,n=i>0?Math.min(Math.max(e/i,0),1):0;return{percentage:Math.round(100*n),fraction:n,isVisible:e>this.config.visibilityThreshold}}updateUI(e,t){if(this.elements.btn.classList.toggle("show",this.state.isVisible),this.elements.progressPath){const t=this.config.perimeter*e;this.elements.progressPath.style.strokeDashoffset=this.config.perimeter-t}this.elements.progressText&&(this.elements.progressText.textContent=t,this.elements.progressText.classList.add("visible"),this.elements.icon&&(this.elements.icon.style.opacity="0"),clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout((()=>{this.elements.progressText.classList.remove("visible"),this.elements.icon&&(this.elements.icon.style.opacity="1")}),this.config.fadeDelay))}bindEvents(){window.addEventListener("scroll",this.handleScroll,{passive:!0}),this.elements.btn.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}destroy(){window.removeEventListener("scroll",this.handleScroll),cancelAnimationFrame(this.rafId),clearTimeout(this.fadeTimeout),this.elements.btn&&(this.elements.btn.innerHTML="")}}let F=null;const $="chartjs-container",z={dark:{backgroundColor:"rgba(44, 45, 45, 0.2)",borderColor:"rgb(44, 45, 45)",color:"#cecdcd",backdropColor:"rgba(27, 27, 30, 0.75)"},light:{backgroundColor:"rgba(243, 243, 243, 0.2)",borderColor:"#f3f3f3",color:"#5e5e5e",backdropColor:"rgba(255, 255, 249, 0.75)"}},R=[];function U(){if("undefined"==typeof Chart)return;R.forEach((e=>e?.destroy?.())),R.length=0;const e=document.getElementsByClassName($);for(;e.length>0;)e[0].remove();const t="dark"===document.documentElement.getAttribute("data-mode")||null===document.documentElement.getAttribute("data-mode")&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=z[t?"dark":"light"];Chart.defaults.backgroundColor=s.backgroundColor,Chart.defaults.borderColor=s.borderColor,Chart.defaults.color=s.color;const i=document.getElementsByClassName("language-chart");if(0!==i.length)for(const e of i)try{const t=JSON.parse(e.textContent.trim());t.options?.scales&&Object.values(t.options.scales).forEach((e=>{e.ticks=e.ticks||{},e.ticks.backdropColor=s.backdropColor,e.ticks.backdropPadding=e.ticks.backdropPadding||2})),e.parentElement.classList.add("d-none");const i=document.createElement("div");i.className=$;const n=document.createElement("canvas");i.appendChild(n),e.parentElement.after(i),R.push(new Chart(n,t))}catch(e){}}document.addEventListener("DOMContentLoaded",(()=>{U(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",U),window.addEventListener("message",(e=>{let{data:t}=e;"theme-mode"===t?.id&&U()}))}));const Y=document.getElementById("mode-toggle"),G=document.getElementById("search-cancel"),J=document.querySelectorAll("#main-wrapper > .container > .content-wrapper, #main-wrapper > .container > .footer-wrapper"),X=document.getElementById("topbar-title"),K=document.getElementById("search"),Z=document.getElementById("search-result-wrapper"),Q=document.getElementById("search-results"),W=document.getElementById("search-input"),ee=document.getElementById("search-hints"),te="d-block",se="d-none",ie="input-focus",ne="d-flex";class oe{static on(){Y.classList.add(se),X.classList.add(se),K.classList.add(ne),G.classList.add(te)}static off(){G.classList.remove(te),K.classList.remove(ne),Y.classList.remove(se),X.classList.remove(se)}}class re{static on(){if(!this.resultVisible){Z.classList.remove(se);const e=J.length;for(let t=0;t<e;t++)J[t].classList.add(se);this.resultVisible=!0}}static off(){if(this.resultVisible){Q.innerHTML="",ee.classList.contains(se)&&ee.classList.remove(se),Z.classList.add(se);const e=J.length;for(let t=0;t<e;t++)J[t].classList.remove(se);W.textContent="",this.resultVisible=!1}}}function ce(){G.addEventListener("click",(()=>{oe.off(),re.off()})),W.addEventListener("focus",(()=>{K.classList.add(ie)})),W.addEventListener("focusout",(()=>{K.classList.remove(ie)})),W.addEventListener("input",(()=>{const e=""===W.value,t=G.classList.contains(te);e?t?ee.classList.remove(se):re.off():(re.on(),t&&ee.classList.add(se))}))}b(re,"resultVisible",!1),function(){const e=document.querySelectorAll("article img");if(!e.length)return;const t=[];for(let s=0;s<e.length;s++){const i=e[s];i.complete?i.hasAttribute(c)?d.call(i,a):d.call(i,l):i.addEventListener("load",h,{once:!0}),i.hasAttribute(c)&&i.hasAttribute(r)&&t.push(i)}t.length&&requestAnimationFrame((()=>{for(let e=0;e<t.length;e++)u.call(t[e])}))}(),function(){if(null===document.querySelector('main>article[data-toc="true"]'))return;q.matches?B.init():E.init(),document.getElementById("toc-wrapper").classList.remove("invisible"),q.onchange=M}(),function(){if(!document.querySelector(".popup"))return;const e=document.querySelector(".popup.light"),t=document.querySelector(".popup.dark"),s=e||t;Theme.visualState===Theme.DARK&&(g=p);let i=GLightbox({selector:g});if(s&&Theme.switchable){let e=null;const t=t=>{t.source===window&&t.data&&t.data.id===Theme.ID&&([i,e]=function(e,t){return g=g===m?p:m,null===t&&(t=GLightbox({selector:g})),[t,e]}(i,e))};window.addEventListener("message",t)}}(),ce(),document.querySelectorAll(e).length&&new ClipboardJS(e,{target:e=>e.parentNode.nextElementSibling.querySelector("code .rouge-code")}).on("success",(e=>{const t=e.trigger;e.clearSelection(),i(t)||(t.innerHTML='<i class="icons"><svg><use href="/assets/icons.svg#check"></use></svg></i>',n(t),setTimeout((()=>{t.innerHTML='<i class="icons"><svg><use href="/assets/icons.svg#clone"></use></svg></i>',o(t)}),s))})),function(){const e=document.getElementById("copy-link");if(!e)return;const t=e.closest(".tooltip-container");if(!t)return;const r=t.querySelector(".tooltip");if(!r)return;const c=t.getAttribute("data-title")||"Share link",l=t.getAttribute("data-title-succeed")||"Link copied!";e.addEventListener("click",(async()=>{if(!i(t))try{await navigator.clipboard.writeText(window.location.href),r.textContent=l,r.classList.add("active"),n(t),setTimeout((()=>{r.textContent=c,r.classList.remove("active"),o(t)}),s)}catch(e){console.error("Clipboard copy failed",e)}})),e.addEventListener("mouseenter",(()=>{i(t)||(r.textContent=c,r.classList.add("active"))})),e.addEventListener("mouseleave",(()=>{i(t)||r.classList.remove("active")}))}(),function(){if("undefined"==typeof mermaid||"function"!=typeof mermaid.initialize)return;const e={theme:D[Theme.visualState]},t=document.getElementsByClassName("language-mermaid");for(let e=0;e<t.length;e++)H(t[e]);mermaid.initialize(e),Theme.switchable&&window.addEventListener("message",V)}(),U(),O&&O.addEventListener("click",(()=>{Theme.flip()})),F||(F=new j)}();
