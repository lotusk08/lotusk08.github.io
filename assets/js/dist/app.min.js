---
permalink: /:basename
---
/*!
 * Steve's blog v1.2.8 | Â© 2019 Steve Hoang | MIT Licensed | https://stevehoang.com
 */
!function(){"use strict";class e{constructor(e){this.container=document.getElementById(e)}show(e,t,n){this.hide();const i=document.createElement("div");i.className="notification show",i.innerHTML=`\n      <p>${e}</p>\n      <button type="button" aria-label="Update">${t}</button>\n    `,this.container.appendChild(i);return i.querySelector("button").addEventListener("click",(()=>{n(),this.hide()})),i}hide(){const e=this.container.querySelector(".notification");e&&(e.style.animation="fade-out 0.3s ease forwards",setTimeout((()=>e.remove()),300))}}if("serviceWorker"in navigator){const t=new URL(document.currentScript.src),n=t.searchParams.get("register"),i=t.searchParams.get("baseurl");if(n){const t=`${i}/sw.min.js`,n=new e("notificationContainer");navigator.serviceWorker.register(t).then((e=>{e.waiting&&n.show(document.querySelector("#notificationContainer").dataset.updateFound||"Update available",document.querySelector("#notificationContainer").dataset.update||"Refresh",(()=>{e.waiting&&e.waiting.postMessage("SKIP_WAITING")})),e.addEventListener("updatefound",(()=>{e.installing.addEventListener("statechange",(()=>{e.waiting&&navigator.serviceWorker.controller&&n.show(document.querySelector("#notificationContainer").dataset.updateFound||"Update available",document.querySelector("#notificationContainer").dataset.update||"Refresh",(()=>{e.waiting&&e.waiting.postMessage("SKIP_WAITING")}))}))}))}));let a=!1;navigator.serviceWorker.addEventListener("controllerchange",(()=>{a||(window.location.reload(),a=!0)}))}else navigator.serviceWorker.getRegistrations().then((e=>{for(let t of e)t.unregister()}))}}();
