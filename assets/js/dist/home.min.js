/*!
 * Steve's blog v1.2.8 | Â© 2019 Steve Hoang | MIT Licensed | https://stevehoang.com
 */
!function(){"use strict";const t="data-src",e="data-lqip",s="shimmer",i="blur";function o(t){this.parentElement.classList.remove(t)}function n(){this.complete&&(this.hasAttribute(e)?o.call(this,i):o.call(this,s))}function r(){const e=this.getAttribute(t);this.setAttribute("src",encodeURI(e)),this.removeAttribute(t)}class l{static get attrTimestamp(){return"data-ts"}static get attrDateFormat(){return"data-df"}static get locale(){return document.documentElement.getAttribute("lang").substring(0,2)}static getTimestamp(t){return Number(t.getAttribute(this.attrTimestamp))}static getDateFormat(t){return t.getAttribute(this.attrDateFormat)}}function c(t,e,s){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:s;throw new TypeError("Private element is not present on this object")}function a(t,e,s){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var d;class h{static get elements(){return c(h,this,v)._||(v._=c(h,this,{tocBar:document.getElementById("toc-bar"),soloTrigger:document.getElementById("toc-solo-trigger"),triggers:Array.from(document.getElementsByClassName("toc-trigger")),popup:document.getElementById("toc-popup"),btnClose:document.getElementById("toc-popup-close")})),c(h,this,v)._}static initBar(){const{tocBar:t,soloTrigger:e}=this.elements;if(!t||!e)return;new IntersectionObserver((e=>{e[0].isIntersecting?t.classList.add("invisible"):t.classList.remove("invisible")}),{rootMargin:`-${c(h,this,f)._}px 0px 0px 0px`}).observe(e),g._=c(h,this,!1)}static refresh(){c(h,this,g)._&&this.initComponents(),tocbot.refresh(this.options),c(h,this,m).call(this)}static get popupOpened(){return this.elements.popup?.open||!1}static showPopup(){const{popup:t}=this.elements;t&&(this.lockScroll(!0),t.showModal(),requestAnimationFrame((()=>{const e=t.querySelector("li.is-active-li");e&&e.scrollIntoView({block:"center",behavior:"smooth"})})))}static hidePopup(){const{popup:t}=this.elements;if(!t||!t.open)return;const e="closing";t.setAttribute(e,""),t.addEventListener("animationend",(()=>{t.removeAttribute(e),t.close()}),{once:!0}),this.lockScroll(!1)}static lockScroll(t){const e="overflow-hidden";requestAnimationFrame((()=>{document.documentElement.classList.toggle(e,t),document.body.classList.toggle(e,t)}))}static clickBackdrop(t){const{popup:e}=this.elements;if(!e||e.hasAttribute("closing"))return;const s=e.getBoundingClientRect();(t.clientX<s.left||t.clientX>s.right||t.clientY<s.top||t.clientY>s.bottom)&&this.hidePopup()}static initComponents(){if(c(h,this,b)._)return;this.initBar();const{triggers:t,popup:e,btnClose:s}=this.elements,i=this.showPopup.bind(this),o=this.hidePopup.bind(this),n=this.clickBackdrop.bind(this);t.forEach((t=>{t.addEventListener("click",i)})),e&&(e.addEventListener("click",n),e.addEventListener("cancel",(t=>{t.preventDefault(),this.hidePopup()}))),s&&s.addEventListener("click",o),b._=c(h,this,!0)}static init(){tocbot.init(this.options),c(h,this,m).call(this),this.initComponents(),c(h,this,u).call(this)}}function m(){document.querySelectorAll("#toc-popup-content .toc-link").forEach((t=>{const e=t.cloneNode(!0);t.parentNode.replaceChild(e,t),e.addEventListener("click",(t=>{t.preventDefault();const s=e.getAttribute("href").substring(1),i=document.getElementById(s);if(i){const t=c(d,this,f)._,e=i.offsetTop-t;this.hidePopup(),setTimeout((()=>{window.scrollTo({top:e,behavior:"smooth"}),setTimeout((()=>{history.pushState(null,null,`#${s}`)}),100)}),150)}}))}))}function u(){window.addEventListener("scroll",(()=>{c(d,this,E)._||(requestAnimationFrame((()=>{E._=c(d,this,!1)})),E._=c(d,this,!0))}),{passive:!0})}var p,g={_:!0},f={_:48},b={_:!1},v={_:null},E={_:!1};a(h,"options",{tocSelector:"#toc-popup-content",contentSelector:".content",ignoreSelector:"[data-toc-skip]",headingSelector:"h2, h3, h4",orderedList:!1,scrollSmooth:!1,collapseDepth:4,headingsOffset:c(d=h,d,f)._});class y{static refresh(){c(y,this,w)._?(tocbot.refresh(this.options),c(y,this,L).call(this)):this.init()}static init(){tocbot.init(this.options),w._=c(y,this,!0),c(y,this,L).call(this),c(y,this,k).call(this)}}function L(){document.querySelectorAll("#toc .toc-link").forEach((t=>{const e=t.cloneNode(!0);t.parentNode.replaceChild(e,t),e.addEventListener("click",(t=>{t.preventDefault();const s=e.getAttribute("href").substring(1),i=document.getElementById(s);if(i){const t=32,e=i.offsetTop-t;window.scrollTo({top:e,behavior:"smooth"}),setTimeout((()=>{history.pushState(null,null,`#${s}`)}),100)}}))}))}function k(){window.addEventListener("scroll",(()=>{c(p,this,T)._||(requestAnimationFrame((()=>{T._=c(p,this,!1)})),T._=c(p,this,!0))}),{passive:!0})}p=y,a(y,"options",{tocSelector:"#toc",contentSelector:".content",ignoreSelector:"[data-toc-skip]",headingSelector:"h2, h3, h4",orderedList:!1,scrollSmooth:!1,headingsOffset:32});var w={_:!1},T={_:!1};matchMedia("(min-width: 1200px)"),Theme.getThemeMapper("default","dark");const C=document.getElementById("mode-toggle");class A{constructor(){a(this,"updateProgress",(()=>{const{percentage:t,fraction:e,isVisible:s}=this.calculateScrollProgress();this.state.progress=t,this.state.isVisible=s,this.updateUI(e,t),this.rafId=null})),a(this,"handleScroll",(()=>{this.rafId||(this.rafId=requestAnimationFrame(this.updateProgress))})),this.state={progress:0,isVisible:!1,lastScrollTop:0},this.config={perimeter:160,visibilityThreshold:50,fadeDelay:500},this.rafId=null,this.fadeTimeout=null,this.elements={btn:document.getElementById("back-to-top"),progressPath:null,progressText:null,icon:null},this.elements.btn&&this.init()}init(){this.createElements(),this.bindEvents(),this.updateProgress()}createElements(){const t=`\n      <svg id="progress-circle" width="44" height="44" viewBox="0 0 44 44">\n        <path d="M 2 2 H 42 V 42 H 2 Z" \n              fill="none" \n              stroke="var(--text-color)" \n              stroke-width="1" \n              stroke-dasharray="${this.config.perimeter}" \n              stroke-dashoffset="${this.config.perimeter}">\n        </path>\n      </svg>\n      <div id="scroll-percentage" class="scroll-percentage">0</div>\n    `;this.elements.btn.insertAdjacentHTML("beforeend",t),this.elements.progressPath=this.elements.btn.querySelector("path"),this.elements.progressText=this.elements.btn.querySelector("#scroll-percentage"),this.elements.icon=this.elements.btn.querySelector("i")}calculateScrollProgress(){const{scrollY:t,innerHeight:e}=window,{scrollHeight:s}=document.documentElement,i=s-e,o=i>0?Math.min(Math.max(t/i,0),1):0;return{percentage:Math.round(100*o),fraction:o,isVisible:t>this.config.visibilityThreshold}}updateUI(t,e){if(this.elements.btn.classList.toggle("show",this.state.isVisible),this.elements.progressPath){const e=this.config.perimeter*t;this.elements.progressPath.style.strokeDashoffset=this.config.perimeter-e}this.elements.progressText&&(this.elements.progressText.textContent=e,this.elements.progressText.classList.add("visible"),this.elements.icon&&(this.elements.icon.style.opacity="0"),clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout((()=>{this.elements.progressText.classList.remove("visible"),this.elements.icon&&(this.elements.icon.style.opacity="1")}),this.config.fadeDelay))}bindEvents(){window.addEventListener("scroll",this.handleScroll,{passive:!0}),this.elements.btn.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}destroy(){window.removeEventListener("scroll",this.handleScroll),cancelAnimationFrame(this.rafId),clearTimeout(this.fadeTimeout),this.elements.btn&&(this.elements.btn.innerHTML="")}}let S=null;const B="chartjs-container",I={dark:{backgroundColor:"rgba(44, 45, 45, 0.2)",borderColor:"rgb(44, 45, 45)",color:"#cecdcd",backdropColor:"rgba(27, 27, 30, 0.75)"},light:{backgroundColor:"rgba(243, 243, 243, 0.2)",borderColor:"#f3f3f3",color:"#5e5e5e",backdropColor:"rgba(255, 255, 249, 0.75)"}},_=[];function P(){if("undefined"==typeof Chart)return;_.forEach((t=>t?.destroy?.())),_.length=0;const t=document.getElementsByClassName(B);for(;t.length>0;)t[0].remove();const e="dark"===document.documentElement.getAttribute("data-mode")||null===document.documentElement.getAttribute("data-mode")&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=I[e?"dark":"light"];Chart.defaults.backgroundColor=s.backgroundColor,Chart.defaults.borderColor=s.borderColor,Chart.defaults.color=s.color;const i=document.getElementsByClassName("language-chart");if(0!==i.length)for(const t of i)try{const e=JSON.parse(t.textContent.trim());e.options?.scales&&Object.values(e.options.scales).forEach((t=>{t.ticks=t.ticks||{},t.ticks.backdropColor=s.backdropColor,t.ticks.backdropPadding=t.ticks.backdropPadding||2})),t.parentElement.classList.add("d-none");const i=document.createElement("div");i.className=B;const o=document.createElement("canvas");i.appendChild(o),t.parentElement.after(i),_.push(new Chart(o,e))}catch(t){}}document.addEventListener("DOMContentLoaded",(()=>{P(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",P),window.addEventListener("message",(t=>{let{data:e}=t;"theme-mode"===e?.id&&P()}))}));const x=document.getElementById("mode-toggle"),q=document.getElementById("search-cancel"),M=document.querySelectorAll("#main-wrapper > .container > .content-wrapper, #main-wrapper > .container > .footer-wrapper"),D=document.getElementById("topbar-title"),F=document.getElementById("search"),V=document.getElementById("search-result-wrapper"),j=document.getElementById("search-results"),N=document.getElementById("search-input"),O=document.getElementById("search-hints"),H="d-block",$="d-none",U="input-focus",Y="d-flex";class R{static on(){x.classList.add($),D.classList.add($),F.classList.add(Y),q.classList.add(H)}static off(){q.classList.remove(H),F.classList.remove(Y),x.classList.remove($),D.classList.remove($)}}class X{static on(){if(!this.resultVisible){V.classList.remove($);const t=M.length;for(let e=0;e<t;e++)M[e].classList.add($);this.resultVisible=!0}}static off(){if(this.resultVisible){j.innerHTML="",O.classList.contains($)&&O.classList.remove($),V.classList.add($);const t=M.length;for(let e=0;e<t;e++)M[e].classList.remove($);N.textContent="",this.resultVisible=!1}}}function z(){q.addEventListener("click",(()=>{R.off(),X.off()})),N.addEventListener("focus",(()=>{F.classList.add(U)})),N.addEventListener("focusout",(()=>{F.classList.remove(U)})),N.addEventListener("input",(()=>{const t=""===N.value,e=q.classList.contains(H);t?e?O.classList.remove($):X.off():(X.on(),e&&O.classList.add($))}))}a(X,"resultVisible",!1),function(){const l=document.querySelectorAll("article img");if(!l.length)return;const c=[];for(let r=0;r<l.length;r++){const a=l[r];a.complete?a.hasAttribute(e)?o.call(a,i):o.call(a,s):a.addEventListener("load",n,{once:!0}),a.hasAttribute(e)&&a.hasAttribute(t)&&c.push(a)}c.length&&requestAnimationFrame((()=>{for(let t=0;t<c.length;t++)r.call(c[t])}))}(),function(){dayjs.locale(l.locale),dayjs.extend(window.dayjs_plugin_localizedFormat);const t=document.querySelectorAll(`[${l.attrTimestamp}]`),e=l.attrTimestamp,s=l.attrDateFormat;if(t.length)for(let i=0;i<t.length;i++){const o=t[i],n=dayjs.unix(l.getTimestamp(o)),r=l.getDateFormat(o);o.textContent=n.format(r),o.removeAttribute(e),o.removeAttribute(s)}}(),z(),C&&C.addEventListener("click",(()=>{Theme.flip()})),S||(S=new A)}();
