/*!
 * Steve's blog v1.2.8 | Â© 2019 Steve Hoang | MIT Licensed | https://stevehoang.com
 */
!function(){"use strict";const t=".code-header>button",e="timeout",s=2e3;function i(t){return t.hasAttribute(e)&&Number(t.getAttribute(e))>Date.now()}function o(t){t.setAttribute(e,Date.now()+s)}function n(t){t.removeAttribute(e)}const r="data-src",c="data-lqip",l="shimmer",a="blur";function d(t){this.parentElement.classList.remove(t)}function h(){this.complete&&(this.hasAttribute(c)?d.call(this,a):d.call(this,l))}function m(){const t=this.getAttribute(r);this.setAttribute("src",encodeURI(t)),this.removeAttribute(r)}const u=".popup:not(.dark)",p=".popup:not(.light)";let g=u;function f(t,e,s){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:s;throw new TypeError("Private element is not present on this object")}function b(t,e,s){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var v;class y{static get elements(){return f(y,this,T)._||(T._=f(y,this,{tocBar:document.getElementById("toc-bar"),soloTrigger:document.getElementById("toc-solo-trigger"),triggers:Array.from(document.getElementsByClassName("toc-trigger")),popup:document.getElementById("toc-popup"),btnClose:document.getElementById("toc-popup-close")})),f(y,this,T)._}static initBar(){const{tocBar:t,soloTrigger:e}=this.elements;if(!t||!e)return;new IntersectionObserver((e=>{e[0].isIntersecting?t.classList.add("invisible"):t.classList.remove("invisible")}),{rootMargin:`-${f(y,this,E)._}px 0px 0px 0px`}).observe(e),L._=f(y,this,!1)}static listenAnchors(){const t=Array.from(document.getElementsByClassName("toc-link")),e=this.hidePopup.bind(this);t.forEach((t=>{t.onclick=e}))}static refresh(){f(y,this,L)._&&this.initComponents(),tocbot.refresh(this.options),this.listenAnchors()}static get popupOpened(){return this.elements.popup?.open||!1}static showPopup(){const{popup:t}=this.elements;t&&(this.lockScroll(!0),t.showModal(),requestAnimationFrame((()=>{const e=t.querySelector("li.is-active-li");e&&e.scrollIntoView({block:"center"})})))}static hidePopup(){const{popup:t}=this.elements;if(!t||!t.open)return;const e="closing";t.setAttribute(e,""),t.addEventListener("animationend",(()=>{t.removeAttribute(e),t.close()}),{once:!0}),this.lockScroll(!1)}static lockScroll(t){const e="overflow-hidden";requestAnimationFrame((()=>{document.documentElement.classList.toggle(e,t),document.body.classList.toggle(e,t)}))}static clickBackdrop(t){const{popup:e}=this.elements;if(!e||e.hasAttribute("closing"))return;const s=e.getBoundingClientRect();(t.clientX<s.left||t.clientX>s.right||t.clientY<s.top||t.clientY>s.bottom)&&this.hidePopup()}static initComponents(){if(f(y,this,w)._)return;this.initBar();const{triggers:t,popup:e,btnClose:s}=this.elements,i=this.showPopup.bind(this),o=this.hidePopup.bind(this),n=this.clickBackdrop.bind(this);t.forEach((t=>{t.onclick=i})),e&&(e.onclick=n,e.oncancel=t=>{t.preventDefault(),this.hidePopup()}),s&&(s.onclick=o),w._=f(y,this,!0)}static init(){tocbot.init(this.options),this.listenAnchors(),this.initComponents()}}var L={_:!0},E={_:48},w={_:!1},T={_:null};b(y,"options",{tocSelector:"#toc-popup-content",contentSelector:".content",ignoreSelector:"[data-toc-skip]",headingSelector:"h2, h3, h4",orderedList:!1,scrollSmooth:!0,smoothScrollDuration:300,collapseDepth:4,headingsOffset:f(v=y,v,E)._});class k{static refresh(){f(k,this,C)._?tocbot.refresh(this.options):this.init()}static init(){tocbot.init(this.options),C._=f(k,this,!0)}}b(k,"options",{tocSelector:"#toc",contentSelector:".content",ignoreSelector:"[data-toc-skip]",headingSelector:"h2, h3, h4",orderedList:!1,scrollSmooth:!0,smoothScrollDuration:300,headingsOffset:32});var C={_:!1};const S=matchMedia("(min-width: 1200px)");class A{constructor(){this.tocWrapper=document.getElementById("toc-wrapper"),this.tocTimeout=null,this.scrollHandler=this.handleScroll.bind(this),this.isVisible=!1,this.rafId=null,this.tocWrapper&&(this.initializeTOC(),this.bindEvents())}initializeTOC(){this.showTOCTemporarily(1500)}showTOCTemporarily(t){this.tocWrapper&&requestAnimationFrame((()=>{this.isVisible||(this.isVisible=!0,this.tocWrapper.classList.add("visible")),clearTimeout(this.tocTimeout),this.tocTimeout=setTimeout((()=>{this.isVisible=!1,this.tocWrapper.classList.remove("visible")}),t)}))}handleScroll(){this.tocWrapper&&requestAnimationFrame((()=>{this.isVisible||(this.isVisible=!0,this.tocWrapper.classList.add("visible")),clearTimeout(this.tocTimeout),this.tocTimeout=setTimeout((()=>{this.isVisible=!1,this.tocWrapper.classList.remove("visible")}),1200)}))}bindEvents(){window.addEventListener("scroll",(()=>{this.rafId||(this.rafId=requestAnimationFrame((()=>{try{this.handleScroll()}catch(t){console.error("Error in TOC scroll handler:",t)}this.rafId=null})))}),{passive:!0})}}function I(t){t.matches?(y.popupOpened&&y.hidePopup(),k.refresh()):y.refresh()}const B="mermaid",x=Theme.getThemeMapper("default","dark");function P(t){if(t.source===window&&t.data&&t.data.id===Theme.ID){const t=[...document.getElementsByClassName(B)],e=x[Theme.visualState];for(let e=0;e<t.length;e++){const s=t[e],i=s.previousSibling.children[0].textContent;s.textContent=i,s.removeAttribute("data-processed")}mermaid.initialize({theme:e}),mermaid.init(null,`.${B}`)}}function q(t){const e=t.textContent,s=t.parentElement;s.classList.add("d-none");const i=document.createElement("pre");i.classList.add(B),i.textContent=e,s.after(i)}const V=document.getElementById("mode-toggle");class M{constructor(){b(this,"updateProgress",(()=>{const{percentage:t,fraction:e,isVisible:s}=this.calculateScrollProgress();this.state.progress=t,this.state.isVisible=s,this.updateUI(e,t),this.rafId=null})),b(this,"handleScroll",(()=>{this.rafId||(this.rafId=requestAnimationFrame(this.updateProgress))})),this.state={progress:0,isVisible:!1,lastScrollTop:0},this.config={perimeter:160,visibilityThreshold:50,fadeDelay:500},this.rafId=null,this.fadeTimeout=null,this.elements={btn:document.getElementById("back-to-top"),progressPath:null,progressText:null,icon:null},this.elements.btn&&this.init()}init(){this.createElements(),this.bindEvents(),this.updateProgress()}createElements(){const t=`\n      <svg id="progress-circle" width="44" height="44" viewBox="0 0 44 44">\n        <path d="M 2 2 H 42 V 42 H 2 Z" \n              fill="none" \n              stroke="var(--text-color)" \n              stroke-width="1" \n              stroke-dasharray="${this.config.perimeter}" \n              stroke-dashoffset="${this.config.perimeter}">\n        </path>\n      </svg>\n      <div id="scroll-percentage" class="scroll-percentage">0</div>\n    `;this.elements.btn.insertAdjacentHTML("beforeend",t),this.elements.progressPath=this.elements.btn.querySelector("path"),this.elements.progressText=this.elements.btn.querySelector("#scroll-percentage"),this.elements.icon=this.elements.btn.querySelector("i")}calculateScrollProgress(){const{scrollY:t,innerHeight:e}=window,{scrollHeight:s}=document.documentElement,i=s-e,o=i>0?Math.min(Math.max(t/i,0),1):0;return{percentage:Math.round(100*o),fraction:o,isVisible:t>this.config.visibilityThreshold}}updateUI(t,e){if(this.elements.btn.classList.toggle("show",this.state.isVisible),this.elements.progressPath){const e=this.config.perimeter*t;this.elements.progressPath.style.strokeDashoffset=this.config.perimeter-e}this.elements.progressText&&(this.elements.progressText.textContent=e,this.elements.progressText.classList.add("visible"),this.elements.icon&&(this.elements.icon.style.opacity="0"),clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout((()=>{this.elements.progressText.classList.remove("visible"),this.elements.icon&&(this.elements.icon.style.opacity="1")}),this.config.fadeDelay))}bindEvents(){window.addEventListener("scroll",this.handleScroll,{passive:!0}),this.elements.btn.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}destroy(){window.removeEventListener("scroll",this.handleScroll),cancelAnimationFrame(this.rafId),clearTimeout(this.fadeTimeout),this.elements.btn&&(this.elements.btn.innerHTML="")}}let _=null;const O="chartjs-container",D={dark:{backgroundColor:"rgba(44, 45, 45, 0.2)",borderColor:"rgb(44, 45, 45)",color:"#cecdcd",backdropColor:"rgba(27, 27, 30, 0.75)"},light:{backgroundColor:"rgba(243, 243, 243, 0.2)",borderColor:"#f3f3f3",color:"#5e5e5e",backdropColor:"rgba(255, 255, 249, 0.75)"}},N=[];function H(){if("undefined"==typeof Chart)return;N.forEach((t=>t?.destroy?.())),N.length=0;const t=document.getElementsByClassName(O);for(;t.length>0;)t[0].remove();const e="dark"===document.documentElement.getAttribute("data-mode")||null===document.documentElement.getAttribute("data-mode")&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=D[e?"dark":"light"];Chart.defaults.backgroundColor=s.backgroundColor,Chart.defaults.borderColor=s.borderColor,Chart.defaults.color=s.color;const i=document.getElementsByClassName("language-chart");if(0!==i.length)for(const t of i)try{const e=JSON.parse(t.textContent.trim());e.options?.scales&&Object.values(e.options.scales).forEach((t=>{t.ticks=t.ticks||{},t.ticks.backdropColor=s.backdropColor,t.ticks.backdropPadding=t.ticks.backdropPadding||2})),t.parentElement.classList.add("d-none");const i=document.createElement("div");i.className=O;const o=document.createElement("canvas");i.appendChild(o),t.parentElement.after(i),N.push(new Chart(o,e))}catch(t){}}document.addEventListener("DOMContentLoaded",(()=>{H(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",H),window.addEventListener("message",(t=>{let{data:e}=t;"theme-mode"===e?.id&&H()}))}));const F=document.getElementById("mode-toggle"),W=document.getElementById("search-cancel"),j=document.querySelectorAll("#main-wrapper > .container > .content-wrapper, #main-wrapper > .container > .footer-wrapper"),z=document.getElementById("topbar-title"),$=document.getElementById("search"),R=document.getElementById("search-result-wrapper"),U=document.getElementById("search-results"),Y=document.getElementById("search-input"),G=document.getElementById("search-hints"),J="d-block",X="d-none",K="input-focus",Z="d-flex";class Q{static on(){F.classList.add(X),z.classList.add(X),$.classList.add(Z),W.classList.add(J)}static off(){W.classList.remove(J),$.classList.remove(Z),F.classList.remove(X),z.classList.remove(X)}}class tt{static on(){if(!this.resultVisible){R.classList.remove(X);const t=j.length;for(let e=0;e<t;e++)j[e].classList.add(X);this.resultVisible=!0}}static off(){if(this.resultVisible){U.innerHTML="",G.classList.contains(X)&&G.classList.remove(X),R.classList.add(X);const t=j.length;for(let e=0;e<t;e++)j[e].classList.remove(X);Y.textContent="",this.resultVisible=!1}}}function et(){W.addEventListener("click",(()=>{Q.off(),tt.off()})),Y.addEventListener("focus",(()=>{$.classList.add(K)})),Y.addEventListener("focusout",(()=>{$.classList.remove(K)})),Y.addEventListener("input",(()=>{const t=""===Y.value,e=W.classList.contains(J);t?e?G.classList.remove(X):tt.off():(tt.on(),e&&G.classList.add(X))}))}b(tt,"resultVisible",!1),function(){const t=document.querySelectorAll("article img");if(!t.length)return;const e=[];for(let s=0;s<t.length;s++){const i=t[s];i.complete?i.hasAttribute(c)?d.call(i,a):d.call(i,l):i.addEventListener("load",h,{once:!0}),i.hasAttribute(c)&&i.hasAttribute(r)&&e.push(i)}e.length&&requestAnimationFrame((()=>{for(let t=0;t<e.length;t++)m.call(e[t])}))}(),function(){if(null===document.querySelector('main>article[data-toc="true"]'))return;S.matches?k.init():y.init();const t=document.getElementById("toc-wrapper");t&&t.classList.remove("invisible"),S.addEventListener("change",I),new A}(),function(){if(!document.querySelector(".popup"))return;const t=document.querySelector(".popup.light"),e=document.querySelector(".popup.dark"),s=t||e;Theme.visualState===Theme.DARK&&(g=p);let i=GLightbox({selector:g});if(s&&Theme.switchable){let t=null;const e=e=>{e.source===window&&e.data&&e.data.id===Theme.ID&&([i,t]=function(t,e){return g=g===u?p:u,null===e&&(e=GLightbox({selector:g})),[e,t]}(i,t))};window.addEventListener("message",e)}}(),et(),document.querySelectorAll(t).length&&new ClipboardJS(t,{target:t=>t.parentNode.nextElementSibling.querySelector("code .rouge-code")}).on("success",(t=>{const e=t.trigger;t.clearSelection(),i(e)||(e.innerHTML='<i class="icons"><svg><use href="/assets/icons.svg#check"></use></svg></i>',o(e),setTimeout((()=>{e.innerHTML='<i class="icons"><svg><use href="/assets/icons.svg#clone"></use></svg></i>',n(e)}),s))})),function(){const t=document.getElementById("copy-link");if(!t)return;const e=t.closest(".tooltip-container");if(!e)return;const r=e.querySelector(".tooltip");if(!r)return;const c=e.getAttribute("data-title")||"Share link",l=e.getAttribute("data-title-succeed")||"Link copied!";t.addEventListener("click",(async()=>{if(!i(e))try{await navigator.clipboard.writeText(window.location.href),r.textContent=l,r.classList.add("active"),o(e),setTimeout((()=>{r.textContent=c,r.classList.remove("active"),n(e)}),s)}catch(t){console.error("Clipboard copy failed",t)}})),t.addEventListener("mouseenter",(()=>{i(e)||(r.textContent=c,r.classList.add("active"))})),t.addEventListener("mouseleave",(()=>{i(e)||r.classList.remove("active")}))}(),function(){if("undefined"==typeof mermaid||"function"!=typeof mermaid.initialize)return;const t={theme:x[Theme.visualState]},e=document.getElementsByClassName("language-mermaid");for(let t=0;t<e.length;t++)q(e[t]);mermaid.initialize(t),Theme.switchable&&window.addEventListener("message",P)}(),H(),V&&V.addEventListener("click",(()=>{Theme.flip()})),_||(_=new M)}();
